{"version":3,"file":"cardinal.js","sources":["../src/circular-path/circle.js","../src/circular-path/index.js","../src/util.js","../src/drawer/snapped-drawer/bottom.js","../src/drawer/vector.js","../src/drawer/rectangle.js","../src/drawer/snapped-drawer/left.js","../src/drawer/snapped-drawer/right.js","../src/drawer/snapped-drawer/top.js","../src/drawer/snapped-drawer/index.js","../src/drawer/index.js","../src/nav/backdrop.js","../src/nav/navservice.js","../src/nav/hashstate.js","../src/nav/drawer.js","../src/nav/index.js","../src/index.js"],"sourcesContent":["export const POINT_ANGLE = 360\nexport const HALF = 1 / 2\nexport const PI = Math.PI\nexport const RAD = PI / (POINT_ANGLE * HALF)\n\nexport class Circle {\n  constructor(radius) {\n    /**\n     * @type {number}\n     */\n    this.radius = radius\n    this.diameter = this.radius * 2\n  }\n\n  get area() {\n    return PI * this.radius ** 2\n  }\n\n  get circumference() {\n    return 2 * PI * this.radius\n  }\n\n  areaOfSect(angle) {\n    angle *= RAD\n    return angle / POINT_ANGLE * this.area\n  }\n\n  lenOfSect(angle) {\n    angle *= RAD\n    return angle / POINT_ANGLE * this.circumference\n  }\n}\n","import {\n  Circle,\n  HALF,\n  POINT_ANGLE,\n  RAD\n} from './circle'\n\nconst ZERO = 0\nconst DEG = 1 / RAD\nconst RIGHT_ANGLE = POINT_ANGLE >> 2\n/**\n * Enum of all quadrants from first to fourth.\n * The quadrant is not a usual one; it starts from the 12th\n * hand of the clock and moves anti-clockwise\n * @enum {number}\n * @const\n */\nconst Quadrant = {\n  FIRST: 90,\n  SECOND: 180,\n  THIRD: 270,\n  FOURTH: 360\n}\n\n// There are two Triangles formed 1) Right angle 2) issoceles\nexport default class CircularPath extends Circle {\n  constructor(radius, angles) {\n    super(radius)\n    this._angles = angles\n    this.angles = angles.map((value) => RAD * value)\n    this._quad = null\n  }\n\n  get paths() {\n    const paths = []\n    this._angles.forEach((angle) => {\n      if (angle === ZERO || angle <= POINT_ANGLE && angle % RIGHT_ANGLE === ZERO) {\n        paths.push(this.radius)\n        return\n      }\n      this._quad = this._getQuadrant(angle)\n      angle = this._quad !== Quadrant.FIRST ? this._quad - angle : angle\n      const radAngle = this._degToRad(angle)\n      const hyp = this._chordLength(radAngle)\n      // RAT: Right Angle Triangle\n      // These are the angles of a RAT that overlaps the circle\n      // with its hypotenuse being the chord that closes the\n      // inner \"cut\" triangle\n      // angleAofRAT = 90 or what else do you think.\n      const angleCofRAT = this._getLastTwoEqAngles(radAngle)\n      const angleBofRAT = RIGHT_ANGLE - angleCofRAT\n      // what would be the path is the `opp` side with respect\n      // to `angleBofRAT` i.e the line that faces it.\n      paths.push(this._findOppUseSOH(this._degToRad(angleBofRAT), hyp))\n    })\n    return paths\n  }\n\n  // private\n  _degToRad(deg) {\n    return RAD * deg\n  }\n\n  _radToDeg(rad) {\n    return DEG * rad\n  }\n\n  _findOppUseSOH(angle, hyp) {\n    return Math.sin(angle) * hyp\n  }\n\n  /**\n   * Finds the value of the last two equal angles in the\n   * triangle cut out of the circle.\n   * There are three angles, one is given as `angleA`;\n   * the other two are equal since two sides `b` & `c` are\n   * equal i.e `b = c = radius`\n   *\n   * @param {number} angleA an angle in degree of the only unequal\n   * part of the triangle\n   * @returns {number} an angle in degree that reps the angle of the\n   * two equal sides of the triangle\n   */\n  _getLastTwoEqAngles(angleA) {\n    return (POINT_ANGLE * HALF - this._radToDeg(angleA)) * HALF\n  }\n\n  _getQuadrant(angle) {\n    let quad\n    [\n      Quadrant.FOURTH,\n      Quadrant.THIRD,\n      Quadrant.SECOND,\n      Quadrant.FIRST\n    ].forEach((value, index, array) => {\n      if (angle > value) {\n        quad = array[--index]\n      } else {\n        quad = array[index]\n      }\n    })\n    return quad\n  }\n\n  _chordLength(angle) {\n    const radiusSq = this.radius ** 2\n    /**\n     * cosine rule [`a**2 = b**2 + c**2 - 2bc cos A`]\n     *\n     * `2 * radiusSq` stands as `b**2 + c**2`.\n     * Therefore `b**2 + c**2 = 2bc` since `b = c = radius`.\n     * Where `b` & `c` are two sides of a triangle cut\n     * from the circle, enclosed with a chord, with the `theta`\n     * joining them equal `angle`\n     *\n     * `angle` is the angle `theta` between the two radii\n     * drawn from the centre of the circle\n     */\n    // a = a**2\n    let a = 2 * radiusSq - 2 * radiusSq * Math.cos(angle)\n    a = Math.sqrt(a)\n    return a\n  }\n}\n","const MAX_THRESHOLD = 1\nconst MIN_ILLEGAL_THRESHOLD = 0\n\nexport const NAV_BOX_SHADOW = '0.2rem 0 0.2rem 0 rgba(0,0,0,.4)'\nexport const ZERO = 0\n\nexport function dataCamelCase(data) {\n  // remove 'data-' prefix and return camelCase string\n  return camelCase(data.substring(5), '-')\n}\n\nexport function camelCase(data, delim = '-') {\n  const list = data instanceof Array ? data : data.split(delim)\n  return list.reduce((acc, cur) => acc + cur.charAt(0)\n    .toUpperCase() + cur.slice(1)\n  )\n}\n\nexport function unique(max) {\n  Math.floor(Math.random() * max)\n}\n\nexport function $(query) {\n  return document.querySelectorAll(query)[0]\n}\n\nexport function getAttribute(el, attr) {\n  return el.getAttribute(attr)\n}\n\nexport function hasAttribute(el, attr) {\n  return el.hasAttribute(attr)\n}\n\nexport function setAttribute(el, attr, value) {\n  el.setAttribute(attr, value)\n}\n\nexport function getData(el, attr) {\n  const prop = dataCamelCase(attr)\n  // this may return `undefined` in some Safari\n  if (el.dataset && el.dataset[prop]) {\n    return el.dataset[prop]\n  }\n  return getAttribute(el, attr)\n}\n\nexport function validateThreshold(tsh) {\n  if (tsh < MAX_THRESHOLD && tsh > MIN_ILLEGAL_THRESHOLD) {\n    tsh = MAX_THRESHOLD - tsh\n    return tsh\n  } else if (tsh < MIN_ILLEGAL_THRESHOLD) {\n    tsh = MAX_THRESHOLD\n    return tsh\n  }\n  return MAX_THRESHOLD\n}\n\n/**\n * @param {HTMLElement} el an HTMLElement whose style should\n * be accessed\n * @param {string | string[] | {}} property A property/properties\n * to set or get\n * @param {string | number} style value to set as\n * @returns {CSSStyleDeclaration | string} A css style property\n * or CSSStyleDeclaration object\n */\nexport function css(el, property, style = null) {\n  const STYLEMAP = window.getComputedStyle(el)\n\n  style = style || null\n  property = property || null\n\n  if (typeof property === 'string' && style !== null) {\n    // setting one property\n    el.style[property] = style\n    return null\n  }\n  if (typeof property === 'object' && property instanceof Object) {\n    // `style` MUST = null\n    // setting many properties\n    style = property\n    for (const prop of Object.keys(style)) {\n      el.style[prop] = style[prop]\n    }\n  } else if (property instanceof Array) {\n    // return all values of properties in the array for\n    // the element as object\n    const ostyle = {}\n    style = STYLEMAP\n    for (const prop of style) {\n      ostyle[prop] = style[prop]\n    }\n    return ostyle\n  } else {\n    // get style from property\n    return STYLEMAP[property]\n  }\n  return STYLEMAP\n}\n","import { ZERO } from './../../util'\n\nexport default class Bottom {\n  /**\n   *\n   * @param {*} options\n   * an object containing all required properties\n   */\n  constructor(options) {\n    this.options = options\n    this.element = options.ELEMENT\n    /**\n     * Size of device window\n     */\n    this.winSize = this.options.sizeOfWindow || window.screen.availHeight\n    this.height = this.element.offsetHeight\n    this.unit = this.options.unit\n    /**\n     * @type number\n     * A maximum area where the draw-start is sensitive\n     */\n    this.maxArea = this.winSize - this.options.maxStartArea\n\n    this.context = null\n  }\n\n  start(e) {\n    const start = e.changedTouches[0].pageY || e.changedTouches[0].clientY\n    const startX =  e.changedTouches[0].pageX || e.changedTouches[0].clientX\n    /**\n     * The `Drawer`'s `Top` class uses the `CSS property` `top`\n     * for updating and defining position of the drawn element\n     */\n    const currentPosition = parseFloat(\n      this.element.style.bottom.replace(\n        /[^\\d]*$/, ''\n      )\n    )\n    const dimension = `-${this.height - start}${this.unit}`\n    const displacement = `-${this.height - Final.START}${this.unit}`\n\n    if (start >= ZERO && start <= this.maxArea && currentPosition !== Final.ZERO) {\n      this.element.style.bottom = displacement || dimension\n    }\n  }\n\n  move() {\n\n  }\n\n  end() {\n\n  }\n\n  setContext(ctx) {\n    this.context = ctx\n    return this\n  }\n\n  static _getStyle(elt, pseudoElt) {\n    return pseudoElt ? window.getComputedStyle(elt, pseudoElt) : window.getComputedStyle(elt)\n  }\n\n  // no need for `window.onorientationchange`\n  _loopWinSizeChangeEvent() {\n    window.setInterval(() => {\n      this.winSize = window.screen.availWidth\n    }, 1e3)\n  }\n}\n","export class Vector {\n  constructor(x1, y1, x2, y2) {\n    this.coordsX = {\n      x1,\n      x2\n    }\n    this.coordsY = {\n      y1,\n      y2\n    }\n  }\n\n  get displacementX() {\n    return this.coordsX.x2 - this.coordsX.x1\n  }\n\n  get displacementY() {\n    return this.coordsY.y2 - this.coordsY.y1\n  }\n}\n","import { Vector } from './vector'\n\nexport class Rectangle extends Vector {\n  constructor(x1, y1, x2, y2) {\n    super(x1, y1, x2, y2)\n  }\n\n  // getter\n  get width() {\n    return Math.abs(this.displacementX)\n  }\n\n  get height() {\n    return Math.abs(this.displacementY)\n  }\n\n  get greaterWidth() {\n    return this.width > this.height\n  }\n\n  get greaterHeight() {\n    return !this.greaterWidth\n  }\n}\n","import {\n  ZERO,\n  validateThreshold\n} from './../../util'\nimport {\n  Rectangle\n} from './../rectangle'\n\nconst DIRECTION = 'left'\nconst DIMENSION = 'dimension'\nconst DISPLACEMENT = 'displacement'\nconst EVENT_OBJ = 'event'\nconst THRESHOLD = 'threshold'\nconst BELOW_THRESHOLD = 'belowthreshold'\nconst OPEN = 'open'\nconst CLOSE = 'close'\nconst UNIT = 'px'\nconst MAX_START_AREA = 25\nconst THRESHOLD_VALUE = 0.666\nconst FALSE_TOUCH_START_POINT = 2\n\nexport default class Left {\n  /**\n   *\n   * @param {{}} options\n   * an object containing all required properties\n   */\n  constructor(options) {\n    this.options = options\n    /**\n     * @type {HTMLElement}\n     */\n    this.element = options.ELEMENT\n    /**\n     * Size of device window\n     * @type {number}\n     */\n    this.winSize = this.options.sizeOfWindow || window.screen.availWidth\n    /**\n     * @type {number}\n     */\n    this.width = this.options.SIZE\n    this.unit = this.options.unit || UNIT\n    /**\n     * @type {number}\n     * A maximum area where the draw-start is sensitive\n     */\n    this.maxArea = this.options.maxStartArea || MAX_START_AREA\n\n    /**\n     * A threshold which the `touchmove` signal must attain\n     * before being qualified to stay shown\n     * the threshold should be a value between `0` and `1.0`\n     * @type {number}\n     */\n    this.threshold = this.options.threshold || THRESHOLD_VALUE\n    this.threshold = validateThreshold(this.threshold)\n\n    // Touch coordinates (Touch Start)\n    this.startX = -1\n    this.startY = -1\n    // Touch coordinates (Touch Move)\n    this.resumeX = -1\n    this.resumeY = -1\n    // Touch coordinates (Touch End) [these may not be important]\n    this.endX = -1\n    this.endY = -1\n\n    /**\n     * A control for scroll. This control prevents\n     * a clash between coordinates dancing between\n     * the (&delta;`X`) coords and (&delta;`Y`) coords.\n     * Utilising the `Rectangle` class to get bounds\n     * and isolate territories\n     * @type {boolean}\n     */\n    this.scrollControlSet = false\n    this.scrollControl = null\n    this.timing = {\n      /**\n       * @type {Date}\n       */\n      start: null,\n      /**\n       * @type {Date}\n       */\n      end: null\n    }\n\n    this.context = null\n  }\n\n  /**\n   * The `touchstart` event handler for the `Left` drawer `class`\n   * @param {TouchEvent} e an event `object`: An event `object`\n   * representing an `object` of all `properties` related\n   * to the `touchstart` event.\n   * @param {Function} fn - a callback function called when the `start`\n   * event is triggered\n   * @returns {void}\n   */\n  start(e, fn) {\n    this.timing.start = new Date()\n    const start = e.changedTouches[0].pageX || e.changedTouches[0].clientX\n    this.startX = start\n    this.startY =  e.changedTouches[0].pageY || e.changedTouches[0].clientY\n    /**\n     * The `Drawer`'s `Left` class uses the `CSS property`, `left`\n     * for updating and defining position of the drawn element\n     */\n    const currentPosition = parseFloat(\n      Left._getStyle(this.element)[DIRECTION].replace(\n        /[^\\d]*$/, ''\n      )\n    )\n    this.positionOnStart = currentPosition\n    const dimension = `-${this.width - start}${this.unit}`\n    const displacement = `-${this.width - FALSE_TOUCH_START_POINT}${this.unit}`\n\n    if (start >= ZERO && start <= this.maxArea && currentPosition !== ZERO) {\n      const response = {\n        [EVENT_OBJ]: e,\n        [DIMENSION]: dimension,\n        [DISPLACEMENT]: displacement\n      }\n      fn.call(this.context || this, response, new Rectangle(this.startX, this.startY, -1, -1))\n    }\n  }\n\n  /**\n   * The `touchmove` event handler for the `Left` drawer `class`\n   * @param {TouchEvent} e an event `object`: An event `object`\n   * representing an `object` of all `properties` related\n   * to the `touchmove` event.\n   * @param {Function} fn - a callback function called when the `move`\n   * event is triggered\n   * @returns {void}\n   */\n  move(e, fn) {\n    const resume = e.changedTouches[0].pageX || e.changedTouches[0].clientX\n    this.resumeX = resume\n    this.resumeY = e.changedTouches[0].pageY || e.changedTouches[0].clientY\n\n    const currentPosition = parseFloat(\n      Left._getStyle(this.element)[DIRECTION].replace(\n        /[^\\d]*$/, ''\n      )\n    )\n    const nextAction = this.positionOnStart === ZERO ? CLOSE : OPEN\n\n    const start = this.startX\n    const width = this.width\n    /**\n     * When the touch doesn't start from the max-width\n     * of the element ignore `start` and use `width`\n     * as starting point.\n     */\n    const virtualStart = start > width ? width : start\n    /**\n     * Dimension for opening. When the drawer is being opened,\n     * the `width` is the max dimension, and the `start` can\n     * only be less than the `width` (from a range of `0` to `this.maxArea` e.g `0` - `25`), so the current\n     * reading from `resume` is subtracted from the `width` to\n     * get the accurate position to update the drawer with.\n     */\n    const dimension = `-${width - resume}${this.unit}`\n    /**\n     * Dimension for closing. When the drawer is being closed,\n     * the `width` is the max dimension and the `start` could\n     * possibly be more than the `width`\n     * or less than the `width`.\n     * To assure an accurate dimension the `virtualStart`\n     * determines whether to use the `width` as starting point\n     * or the actual `start`. If the actual start is more than\n     * `width`, the width becomes the start point else the `start`\n     */\n    const vdimension = `-${virtualStart - resume}${this.unit}`\n    const rect = new Rectangle(\n      this.startX,\n      this.startY,\n      this.resumeX,\n      this.resumeY\n    )\n    const isBoundX = rect.greaterWidth\n\n    if (!this.scrollControlSet) {\n      this.scrollControl = isBoundX\n      this.scrollControlset = !this.scrollControlSet\n    }\n\n    // OPEN LOGIC\n    if (start >= ZERO && start <= this.maxArea && currentPosition !== ZERO && isBoundX && nextAction === OPEN && this.scrollControl && rect.displacementX > ZERO) {\n      const response = {\n        [EVENT_OBJ]: e,\n        [DIMENSION]: dimension,\n        open: true,\n        close: false\n      }\n      fn.call(this.context || this, response, rect)\n    }\n\n    // CLOSE LOGIC\n    if (resume <= this.width && currentPosition <= this.width && isBoundX && nextAction === CLOSE && this.scrollControl && rect.displacementX < ZERO) {\n      const response = {\n        [EVENT_OBJ]: e,\n        [DIMENSION]: vdimension,\n        close: true,\n        open: false\n      }\n      fn.call(this.context || this, response, rect)\n    }\n  }\n\n  /**\n   * The `touchend` event handler for the `Left` drawer `class`\n   * @param {TouchEvent} e an event `object`: An event `object`\n   * representing an `object` of all `properties` related\n   * to the `touchend` event.\n   * @param {Function} fn - a callback function called when the `end`\n   * event is triggered\n   * @param {{}} thresholdState - a state object which should be passed\n   * by reference for updating by this method\n   * @returns {void}\n   */\n  end(e, fn, thresholdState) {\n    this.timing.end = new Date()\n\n    const end = e.changedTouches[0].pageX || e.changedTouches[0].clientX\n    this.endX = end\n    this.endY = e.changedTouches[0].pageY || e.changedTouches[0].clientY\n\n    const rect = new Rectangle(this.startX, this.startY, this.endX, this.endY)\n\n    const start = this.startX\n    const TIMING = this.timing.end.getTime() - this.timing.start.getTime()\n    const threshold = this.threshold\n    const signedOffsetSide = parseFloat(\n      Left._getStyle(this.element)[DIRECTION].replace(\n        /[^\\d]*$/, ''\n      )\n    )\n    const nonZero = `-${this.width}px`\n    const zero = `${ZERO}`\n    const offsetSide = Math.abs(signedOffsetSide)\n    let action = OPEN\n    // release the control for another session\n    this.scrollControl = this.scrollControlSet = false // eslint-disable-line no-multi-assign\n\n    const nextAction = this.positionOnStart === ZERO ? CLOSE : OPEN\n    const response = {\n      [EVENT_OBJ]: e,\n      position: signedOffsetSide,\n      rect\n    }\n\n    function getResponse(state, trueForOpen) {\n      const opposite = 'oppositeDimension'\n      if (state === THRESHOLD && trueForOpen || state === BELOW_THRESHOLD && !trueForOpen) {\n        return {\n          [DIMENSION]: zero,\n          TIMING,\n          [opposite]: nonZero,\n          ...response\n        }\n      } else if (state === THRESHOLD && !trueForOpen || state === BELOW_THRESHOLD && trueForOpen) {\n        return {\n          [DIMENSION]: nonZero,\n          TIMING,\n          [opposite]: zero,\n          ...response\n        }\n      }\n      return {}\n    }\n\n    // OPEN LOGIC\n    if (nextAction === OPEN && start <= this.maxArea) {\n      if (offsetSide <= this.width * threshold) {\n        thresholdState.state = [THRESHOLD, CLOSE]\n        thresholdState.stateObj = getResponse(thresholdState.state[0], true)\n      } else {\n        thresholdState.state = [BELOW_THRESHOLD, CLOSE]\n        thresholdState.stateObj = getResponse(thresholdState.state[0], true)\n      }\n      fn.call(this, action)\n      return\n    }\n\n\n    // CLOSE LOGIC\n    if (nextAction === CLOSE && rect.displacementX < ZERO && this.resumeX <= this.width) {\n      action = CLOSE\n      if (offsetSide > this.width * threshold) {\n        thresholdState.state = [THRESHOLD, OPEN]\n        thresholdState.stateObj = getResponse(thresholdState.state[0], false)\n      } else {\n        thresholdState.state = [BELOW_THRESHOLD, OPEN]\n        thresholdState.stateObj = getResponse(thresholdState.state[0], false)\n      }\n      fn.call(this, action)\n    }\n  }\n\n  setContext(ctx) {\n    this.context = ctx\n    return this\n  }\n\n  static _getStyle(elt, pseudoElt) {\n    return pseudoElt ? window.getComputedStyle(elt, pseudoElt) : window.getComputedStyle(elt)\n  }\n\n  // no need for `window.onorientationchange`\n  _loopWinSizeChangeEvent() {\n    window.setInterval(() => {\n      this.winSize = window.screen.availWidth\n    }, 1e3) // eslint-disable-line no-magic-numbers\n  }\n}\n","import { ZERO } from './../../util'\n\nconst DIRECTION = 'right'\nconst DIMENSION = 'dimension'\nconst DISPLACEMENT = 'displacement'\nconst EVENT_OBJ = 'event'\nconst THRESHOLD = 'threshold'\nconst BELOW_THRESHOLD = 'belowthreshold'\n\nexport default class Right {\n  /**\n   *\n   * @param {*} options\n   * an object containing all required properties\n   */\n  constructor(options) {\n    this.options = options\n    // the target element, not listening to,\n    // but reacting to event\n    this.element = options.ELEMENT\n    /**\n     * @type number\n     * Size of device window in pixels\n     */\n    this.winSize = this.options.sizeOfWindow || window.screen.availWidth\n    /**\n     * @type number\n     * A numerical representation of the\n     * target element's width\n     */\n    this.width = this.element.offsetWidth\n    this.unit = this.options.UNIT\n    /**\n     * @type number\n     * A maximum area where the draw-start is sensitive\n     */\n    this.maxArea = this.winSize - this.options.maxStartArea\n\n    /**\n     * A threshold which the `touchmove` signal must attain\n     * before being qualified to stay shown\n     * the threshold should be a value between `1.0` and `0`\n     * @type number\n     */\n    this.threshold = this.options.threshold\n\n    // Touch coordinates (Touch Start)\n    this.startX = -1\n    this.startY = -1\n    // Touch coordinates (Touch Move)\n    this.resumeX = -1\n    this.resumeY = -1\n\n    /**\n     * A control for scroll. This control prevents\n     * a clash between coordinates dancing between\n     * the (&delta;`X`) coords and (&delta;`Y`) coords.\n     * Utilising the `Rectangle` class to get bounds\n     * and isolate territories\n     * @type boolean\n     */\n    this.scrollControlSet = false\n    this.scrollControl = null\n\n    this.context = null\n  }\n\n  start() {\n    const start = e.changedTouches[0].pageX || e.changedTouches[0].clientX\n    this.startX = start\n    this.startY =  e.changedTouches[0].pageY || e.changedTouches[0].clientY\n    /**\n     * The `Drawer`'s `Right` class uses the `CSS property` `Right`\n     * for updating and defining position of the drawn element\n     */\n    const currentPosition = parseFloat(\n      this.element.style.right.replace(\n        /[^\\d]*$/, ''\n      )\n    )\n    const dimension = `-${this.width - (this.winSize - start)}${this.unit}`\n    const displacement = `-${this.width - START}${this.unit}`\n\n    if (start >= ZERO && start <= this.maxArea && currentPosition !== ZERO) {\n      this.element.style.right = displacement || dimension\n    }\n  }\n\n  /**\n   * The `touchmove` event handler for the `Right` drawer `class`\n   * @param {*} e an event `object`: An event `object`\n   * representing an `object` of all `properties` related\n   * to the `touchstart` event.\n   */\n  move() {\n    const resume = e.changedTouches[0].pageX || e.changedTouches[0].clientX\n    this.resumeX = resume\n    this.resumeY = e.changedTouches[0].pageY || e.changedTouches[0].clientY\n\n    const currentPosition = parseFloat(\n      this.element.style[DIRECTION].replace(\n        /[^\\d]*$/, ''\n      )\n    )\n\n    const start = this.startX\n    const width = this.width\n    /**\n     * When the touch doesn't start from the max-width\n     * of the element ignore `start` and use `width`\n     * as starting point.\n     */\n    const virtualStart = start < (this.winSize - width) ? this.winSize - width : start\n    /**\n     * Dimension for opening. When the drawer is being opened,\n     * the `width` is the max dimension, and the `start` can\n     * only be less than the `width` (from a range of `0` to `this.maxArea` e.g `0` - `25`), so the current\n     * reading from `resume` is subtracted from the `width` to\n     * get the accurate position to update the drawer with.\n     *\n     *\n     * **WHY IT IS LIKE THIS `width - (this.winSize - resume)`**\n     *\n     * `this.winSize - resume` converts it from a vector to a scalar.\n     * Keeping it as a vector makes the dimension inaccurate\n     * as the `right` property of the `HTMLElement.style` is the one being updated and not the left,\n     * so the css `right` property is an enough respect for its direction.\n     *\n     * *__If it should be respected then__*,\n     * 1. The `Right Drawer class` would be updating `left css property` and not `right`, i.e, initialy an element that uses the `Right Drawer` must have a `css file` that defines a `css left property` for the element and not a `right` property; As in\n     * ```scss\n     * .menu {\n     *   left: // (window size + width of the element)px\n     * }\n     * ```\n     * 2. Cardinal's `Right Drawer class` can always update\n     * as `HTMLElement.style.left = ${width - resume}px`, and\n     * not as it is now.\n     * This way there is no `right` property respecting the direction\n     * So the vector attribute of the dimension is preserved.\n     */\n    const dimension = `-${width - (this.winSize - resume)}${this.unit}`\n    /**\n     * Dimension for closing. When the drawer is being closed,\n     * the `width` is the max dimension and the `start` could\n     * possibly be more than the `width`\n     * or less than the `width`.\n     * To assure an accurate dimension the `virtualStart`\n     * determines whether to use the `width` as starting point\n     * or the actual `start`. If the actual start is more than\n     * `width`, the width becomes the start point else the `start`\n     */\n    const vdimension = `-${resume - virtualStart}${this.unit}`\n    const rect = new Rectangle(\n      this.startX,\n      this.startY,\n      this.resumeX,\n      this.resumeY\n    )\n    const isBoundX = rect.wGTh()\n    // eslint-disable-next-line no-unused-expression, no-sequence, no-extra-parens\n    !this.scrollControlSet &&\n    (this.scrollControl = isBoundX), (this.scrollControlset = !this.scrollControlSet)\n  }\n\n  end() {\n\n  }\n\n  setContext(ctx) {\n    this.context = ctx\n    return this\n  }\n\n  static _getStyle(elt, pseudoElt) {\n    return pseudoElt ? window.getComputedStyle(elt, pseudoElt) : window.getComputedStyle(elt)\n  }\n\n  // no need for `window.onorientationchange`\n  _loopWinSizeChangeEvent() {\n    window.setInterval(() => {\n      this.winSize = window.screen.availWidth\n    }, 1e3)\n  }\n}\n","import { ZERO } from './../../util'\n\nexport default class Top {\n  /**\n   *\n   * @param {*} options\n   * an object containing all required properties\n   */\n  constructor(options) {\n    this.options = options\n    this.element = options.ELEMENT\n    /**\n     * Size of device window\n     */\n    this.winSize = this.options.sizeOfWindow || window.screen.availHeight\n    this.height = this.element.offsetHeight\n    this.unit = this.options.unit\n    /**\n     * @type number\n     * A maximum area where the draw-start is sensitive\n     */\n    this.maxArea = this.options.maxStartArea\n    this.context = null\n  }\n\n  start(e) {\n    let start = e.changedTouches[0].pageY || e.changedTouches[0].clientY\n    let startX =  e.changedTouches[0].pageX || e.changedTouches[0].clientX\n    /**\n     * The `Drawer`'s `Top` class uses the `CSS property` `top`\n     * for updating and defining position of the drawn element\n     */\n    let currentPosition = parseFloat(\n      this.element.style.top.replace(\n        /[^\\d]*$/, ''\n      )\n    )\n    let dimension = `-${this.height - start}${this.unit}`\n    let displacement = `-${this.height - START}${this.unit}`\n\n    if (start >= ZERO && start <= this.maxArea && currentPosition != ZERO) {\n      this.element.style.top = displacement || dimension\n    }\n  }\n\n  move() {\n\n  }\n\n  end() {\n\n  }\n\n  setContext(ctx) {\n    this.context = ctx\n    return this\n  }\n\n  static _getStyle(elt, pseudoElt) {\n    return pseudoElt ? window.getComputedStyle(elt, pseudoElt) : window.getComputedStyle(elt)\n  }\n\n  // no need for `window.onorientationchange`\n  _loopWinSizeChangeEvent() {\n    window.setInterval(() => {\n      this.winSize = window.screen.availWidth\n    }, 1e3)\n  }\n}\n","import Bottom from './bottom'\nimport Left from './left'\nimport Right from './right'\nimport Top from './top'\n\nconst BELOW_THRESHOLD = 'belowthreshold'\nconst THRESHOLD = 'threshold'\nconst START = 'start'\nconst MOVE = 'move'\nconst END = 'end'\n\nexport default class SnappedDrawer {\n  /**\n   *\n   * @param {{}} options an object of configuration options\n   */\n  constructor(options) {\n    this._options = options\n    /**\n     * @type {HTMLElement}\n     */\n    this._element = options.ELEMENT\n    this._target = options.TARGET\n    this.events = ['touchstart', 'touchmove', 'touchend']\n    this._handlers = null\n    this._direction = options.DIRECTION\n    this._callibration = null\n    /**\n     * @type {{}}\n     */\n    this._callbacks = null\n    this._context = null\n\n    this._setCalibration(this._direction)\n  }\n\n  // enum\n  static UP = 0\n  static LEFT = 1\n  static DOWN = 2\n  static RIGHT = 3\n\n  // public\n  /**\n   * Make sure event handlers are registered using `Drawer.on(...)` before\n   * calling `Drawer.activate()`\n   *\n   * @see {@link Drawer#on | Drawer.on}\n   * @returns {void}\n   */\n  activate() {\n    // get registered callbacks or set default\n    const startfn = this._callbacks ? this._callbacks[START] : def\n    const movefn = this._callbacks ? this._callbacks[MOVE] : def\n    const endfn = this._callbacks ? this._callbacks[END] : def\n\n    const startHandler = (e) => {\n      if (this._direction !== null) {\n        this._callibration.start(e, startfn)\n      } else {\n        this.deactivate()\n      }\n    }\n\n    const moveHandler = (e) => {\n      if (this._direction !== null) {\n        this._callibration.move(e, movefn)\n      } else {\n        this.deactivate()\n      }\n    }\n\n    const endHandler = (e) => {\n      if (this._direction !== null) {\n        const state = {}\n        this._callibration.end(e, endfn, state) // state by Ref\n        this._processThresholdState(state)\n      } else {\n        this.deactivate()\n      }\n    }\n\n    this._register(startHandler, moveHandler, endHandler)\n    for (let i = 0; i < this.events.length; i++) {\n      this._target.addEventListener(this.events[i], this._handlers[i])\n    }\n  }\n\n  /**\n   * A method provided by the `Drawer interface` to deactivate the drawer\n   * @returns {void}\n   */\n  deactivate() {\n    for (let i = 0; i < this.events; i++) {\n      this._target.removeEventListener(this.events[i], this._handlers[i])\n    }\n    this._register()\n  }\n\n  /**\n   * A function used to register callbacks for the `Drawer class` `touchstart`,\n   * `touchmove` and `touchend` event handlers.\n   *\n   * Always call `Drawer.on(...)` before `Drawer.activate()`.\n   * As in:\n   * ```js\n   * const drawer = new Drawer()\n   * drawer.on(event, () => {\n   *  // TODO\n   * }).activate()\n   * ```\n   *\n   * To prevent modifying the context of `this`, the\n   * `drawer.setContext(...)` method should be invoked with an\n   * argument which is the `this` context of the\n   * `calling class` or alternatively using a wrapper function,\n   * then call the main handler method.\n   * ```js\n   * class UseDrawer {\n   *  // CODE\n   *  method() {\n   *    const drawer = new Drawer()\n   *    drawer.on(...)\n   *      .setContext(this)\n   *      .activate()\n   *  }\n   * }\n   * // OR\n   * drawer.on(event, (stateObj) => {\n   *  this.handler.call(this, stateObj)\n   * }).activate()\n   * ```\n   *\n   * Valid event types taken by this method are:\n   * - `start`\n   * - `move`\n   * - `end`\n   * - `threshold`\n   * - `belowthreshold`\n   * @param {string} event The event type as in the above list\n   * @param {Function} fn A function to call when this event triggers\n   * @returns {this} Returns an instance variable of the `Drawer` class\n   */\n  on(event, fn) {\n    this._registerCallbacks(event, fn)\n    return this\n  }\n\n  setContext(ctx) {\n    this._context = ctx\n    this._callibration.setContext(ctx)\n    return this\n  }\n\n  _processThresholdState(state) {\n    if (Object.keys(state).length < 1) {\n      return\n    }\n    const thState = state.state[0]\n    const vector = state.stateObj.rect\n    delete state.stateObj.rect\n    this._callbacks[thState].call(this._context || this, state.state, state.stateObj, vector)\n  }\n\n  _setCalibration(point) {\n    switch (point) {\n      case SnappedDrawer.UP:\n        this._callibration = new Top(this._options)\n        break\n      case SnappedDrawer.LEFT:\n        this._callibration = new Left(this._options)\n        break\n      case SnappedDrawer.DOWN:\n        this._callibration = new Bottom(this._options)\n        break\n      case SnappedDrawer.RIGHT:\n        this._callibration = new Right(this._options)\n        break\n      default:\n        throw RangeError('Direction out of range')\n    }\n  }\n\n  _registerCallbacks(event, fn) {\n    this._callbacks = this._callbacks || {\n      [START]: def,\n      [MOVE]: def,\n      [END]: def,\n      [THRESHOLD]: def,\n      [BELOW_THRESHOLD]: def\n    }\n    if (event in this._callbacks) {\n      this._callbacks[event] = fn\n    }\n  }\n\n  // private\n  _register(...handlers) {\n    this._handlers = [...handlers]\n  }\n}\n\nfunction def() {\n  return false\n}\n","import SnappedDrawer from './snapped-drawer'\n\nexport default class Drawer {\n  static SnappedDrawer = SnappedDrawer\n  // enum\n  static UP = SnappedDrawer.UP\n  static LEFT = SnappedDrawer.LEFT\n  static DOWN = SnappedDrawer.DOWN\n  static RIGHT = SnappedDrawer.RIGHT\n}\n","import { css } from '../util'\n\nexport class Backdrop {\n  constructor(backdrop) {\n    this.backdrop = backdrop\n  }\n\n  show(time) {\n    css(this.backdrop, {\n      display: 'block',\n      opacity: 1,\n      transition: `opacity linear ${time / 1e3}s`\n    })\n  }\n\n  hide(time) {\n    css(this.backdrop, {\n      opacity: 0,\n      transition: `opacity linear ${time / 1e3}s`\n    })\n    window.setTimeout(() => {\n      css(this.backdrop, {\n        display: 'none'\n      })\n    }, time)\n  }\n\n  setOpacity(val) {\n    css(this.backdrop, {\n      display: 'block',\n      opacity: val,\n      transition: 'none'\n    })\n  }\n}\n","import {\n  css,\n  NAV_BOX_SHADOW\n} from './../util'\n\nconst TRANSITION_STYLE = \"ease\"\nconst EFFECT = \"transition\"\nconst TRANS_END = \"transitionend\"\nconst UNIT = \"px\"\n\nclass NavService {\n  constructor(options) {\n    this.options = options\n    this.nav = options.ELEMENT\n    this.button = options.INIT_ELEM\n    this.backdrop = options.BACKDROP\n    this.backdropElement = this.backdrop.backdrop\n    this.event = options.DEFAULT_EVENT || 'click'\n    this.direction = options.DIRECTION\n    this.width = this.nav.offsetWidth\n    this.trans_time = options.TRANSITION/1e3\n    this.transition = `${this.direction} ${TRANSITION_STYLE} ${this.trans_time}s`\n    // state of the nav, whether open or close\n    this.alive = false\n  }\n\n  _width(unit) {\n    unit = unit || \"\"\n    return this.width + unit\n  }\n\n  activate() {\n    this.button.addEventListener(this.event, (e) => {\n      this.handler.call(this, e)\n    })\n    this.backdropElement.addEventListener(this.event, () => {\n      this._close()\n    })\n    this.nav.addEventListener(TRANS_END, () => {\n      if (!this.alive) {\n        this._cleanShadow()\n      }\n    })\n    return 0\n  }\n\n  handler() {\n    let state = NavService.css(this.nav, this.direction).\n      replace(/[^\\d]*$/, '')\n    state = /\\.(?=\\d)/.test(state) ? Math.floor(parseFloat(state)) : parseInt(state)\n    if (`${state}${UNIT}` == `-${this._width(UNIT)}`) {\n      this._open()\n    } else {\n      this._close()\n    }\n  }\n\n  _open() {\n    let style = {\n      [this.direction]: 0,\n      [EFFECT]: this.transition,\n      boxShadow: NAV_BOX_SHADOW\n    }\n    NavService.css(this.nav, style)\n    this.backdrop.show(this.options.TRANSITION)\n    this.alive = true\n  }\n\n  _close() {\n    let style = {\n      [this.direction]: `-${this._width(UNIT)}`,\n      [EFFECT]: this.transition\n      // don't clean shadow here\n      // it's transitioning\n    }\n    NavService.css(this.nav, style)\n    this.backdrop.hide(this.options.TRANSITION)\n    this.alive = false\n  }\n\n  _cleanShadow() {\n    NavService.css(this.nav, 'boxShadow', 'none')\n  }\n\n  static css(el, property, style) {\n    return css(el, property, style)\n  }\n\n  deactivate() {\n    this.button.removeEventListener(this.event, this.handler)\n    return 0\n  }\n}\n\nexport default NavService\n","import NavService from './navservice'\n\nconst TRANSITION_STYLE = 'ease'\n\nclass HashState {\n  constructor(options) {\n    this.options = options\n    this.nav = options.ELEMENT\n    this.button = options.INIT_ELEM\n    this.backdrop = options.BACKDROP\n    this.event = 'hashchange'\n    this.direction = options.DIRECTION\n    this.width = this.nav.offSetWidth\n    this.trans_time = options.transition/1e3\n    this.transition = `${this.direction} ${TRANSITION_STYLE} ${this.trans_time}s`\n    // state of the nav, whether open or close\n    this.alive = false\n  }\n\n  activate() {\n    window.addEventListener(this.event, this.handler)\n    return 0\n  }\n\n  handler(e) {\n    let hash = HashState._getHash(e)\n    let ns = new NavService(this.options)\n    if (hash === null) {\n      ns._close()\n    } else if (hash === this.button.getAttribute('href')) {\n      ns._open()\n    } else {\n      return\n    }\n  }\n\n  static _getHash(e) {\n    let hash = e.newURL\n    let indexOfHash = hash.lastIndexOf('#')\n    hash = indexOfHash !== -1 ? hash.slice(indexOfHash).replace(/(?:[^\\w\\d-]+)$/) : null\n    return hash\n  }\n\n  deactivate() {\n    window.removeEventListener(this.event, this.handler)\n    return 0\n  }\n}\nexport default HashState\n","import Drawer from './../drawer/'\nimport { NAV_BOX_SHADOW } from './../util'\n\nconst ZERO = 0\nconst KILO = 1e3\nconst MIN_TIME_TO_OVERRIDE_BELOWTHRESHOLD = 0.7\nconst MIN_POSITIVE_DISPLACEMENT = 40\nconst MIN_NEGATIVE_DISPLACEMENT = -MIN_POSITIVE_DISPLACEMENT\nconst TRANSITION_STYLE = 'linear'\nconst EFFECT = 'transition'\nconst TRANS_TIMING = '0.1s' // This value is basic, the calc'ed value will depend on drawer speed\nconst TRANS_TEMPLATE = `${TRANSITION_STYLE} ${TRANS_TIMING}`\nconst HIDDEN = 'hidden'\nconst SCROLL = 'scroll'\nconst START = 'start'\nconst MOVE = 'move'\nconst THRESHOLD = 'threshold'\nconst BELOW_THRESHOLD = `below${THRESHOLD}`\nconst DIRECTIONS = ['top', 'left', 'bottom', 'right']\n\nclass NavDrawer {\n  /**\n   * Creates a new NavDrawer object. Providing the Left and Right\n   * Drawer functionality.\n   * Support for Top and Bottom may come in the future\n   * @throws RangeError\n   * @param {{}} options An options Object to configure the Drawer with\n   */\n  constructor(options) {\n    this.options = options\n    /**\n     * @type {HTMLElement}\n     */\n    this.element = this.options.ELEMENT\n    /**\n     * @type {HTMLBodyElement}\n     */\n    this._body = this.options.BODY\n    this._backdrop = this.options.BACKDROP\n    /**\n     * @type {number}\n     */\n    this.direction = this.options.DIRECTION\n\n    this.checkDirection()\n\n    this.directionString = DIRECTIONS[this.direction]\n\n    let o = {\n      ...options,\n      SIZE: this.elementSize,\n      TARGET: document\n    }\n    this.drawer = new Drawer.SnappedDrawer(o)\n    this.transition = `${this.directionString} ${TRANS_TEMPLATE}`\n  }\n\n  checkDirection() {\n    if (this.direction !== Drawer.LEFT && this.direction !== Drawer.RIGHT) {\n      throw RangeError('Direction out of range')\n    }\n  }\n\n  activate() {\n    this.drawer.on(START, this._startHandler)\n      .on(MOVE, this._moveHandler)\n      .on(THRESHOLD, this._threshold)\n      .on(BELOW_THRESHOLD, this._belowThreshold)\n      .setContext(this)\n      .activate()\n    return 0\n  }\n\n  deactivate() {\n    this.drawer.deactivate()\n    return 0\n  }\n\n  get elementSize() {\n    const axis = this.direction\n    if (axis === Drawer.UP || axis === Drawer.DOWN) {\n      return this.element.offsetHeight\n    } else {\n      return this.element.offsetWidth\n    }\n  }\n\n  _startHandler(response, rectangle) {\n    this.element.style[this.directionString] = response.displacement\n    this.element.style.boxShadow = NAV_BOX_SHADOW\n    this.element.style[EFFECT] = this.transition\n    this._body.style.overflow = HIDDEN\n  }\n\n  _moveHandler(response, rectangle) {\n    const curPos = this.direction === Drawer.UP || this.direction === Drawer.DOWN ? rectangle.coordsY.y2 : rectangle.coordsX.x2\n    this.element.style[this.directionString] = response.dimension\n    this.element.style[EFFECT] = this.transition\n    this._backdrop.setOpacity(curPos / this.elementSize)\n  }\n\n  _threshold(state, stateObj) {\n    const isOpen = state[1] === 'open'\n    const options = {\n      stateObj\n    }\n    if (isOpen) {\n      this._hide(options)\n    } else {\n      this._show(options)\n    }\n  }\n\n  _belowThreshold(state, stateObj, rect) {\n    const isClosed = state[1] !== 'open'\n    const overallEventTime = stateObj.TIMING\n    const MTTOB = MIN_TIME_TO_OVERRIDE_BELOWTHRESHOLD\n    const MPD = MIN_POSITIVE_DISPLACEMENT\n    const MND = MIN_NEGATIVE_DISPLACEMENT\n    const displacement = this.direction === Drawer.UP || this.direction === Drawer.DOWN ? rect.displacementY : rect.displacementX\n    const options = {\n      stateObj\n    }\n    const LOGIC = this.direction === Drawer.LEFT ? (displacement > ZERO && displacement >= MPD && rect.greaterWidth) : (displacement < ZERO && displacement <= MND && rect.greaterWidth)\n\n    if (overallEventTime / KILO < MTTOB) {\n      console.log(overallEventTime)\n      // DIRECTION: Drawer.UP | Drawer.LEFT\n      if (LOGIC) {\n        console.log(true)\n        this.__overrideBelowThresh(!isClosed, options)\n      } else {\n        if (isClosed) {\n          // close it back didn't hit thresh. and can't override\n          this._hide(options)\n        } else {\n          // open it back didn't hit thresh. and can't override because not enough displacement\n          this._show(options)\n        }\n      }\n    } else {\n      if (isClosed) {\n        // close it back didn't hit thresh. and can't override because not enough velocity or displacement\n        this._hide(options)\n      } else {\n        // open it back didn't hit thresh. and can't override because not enough velocity or displacement\n        this._show(options)\n      }\n    }\n  }\n\n  _show(options) {\n    this._body.style.overflow = HIDDEN\n    this._backdrop.show(this.options.TRANSITION)\n    this.element.style[this.directionString] = options.stateObj.dimension\n  }\n\n  _hide(options) {\n    this._body.style.overflow = SCROLL\n    this._backdrop.hide(this.options.TRANSITION)\n    this.element.style[this.directionString] = options.stateObj.dimension\n    this.element.style.boxShadow = 'none'\n  }\n\n  __overrideBelowThresh(isOpen, options) {\n    if (isOpen) {\n      this._body.style.overflow = SCROLL\n      this._backdrop.hide(this.options.TRANSITION)\n      this.element.style[this.directionString] = options.stateObj.oppositeDimension\n      this.element.style.boxShadow = 'none'\n    } else {\n      this._body.style.overflow = HIDDEN\n      this._backdrop.show(this.options.TRANSITION)\n      this.element.style[this.directionString] = options.stateObj.oppositeDimension\n    }\n  }\n}\n\nexport default NavDrawer\n","import { Backdrop } from './backdrop'\nimport HashState from './hashstate'\nimport NavDrawer from './drawer'\nimport NavService from './navservice'\nimport { css, getData, getAttribute, hasAttribute, setAttribute, unique, $ } from '../util'\n\nconst BACKDROP = \"backdrop\"\nconst DEF_CLASSNAME = \"cardinal-navcard\"\nconst MEDIA_HASH = \"data-hash-max-width\"\nconst MEDIA_DRAW = \"data-draw-max-width\"\nconst _CLASS = \"class\"\nconst EVENTS = {\n  touchend: \"touchend\",\n  touchmove: \"touchmove\",\n  touchstart: \"touchstart\"\n}\n\nclass NavCard {\n\n  constructor() {\n    // **Do not insert the below element into DOM**\n    /**\n     * **Covert Backdrop**\n     * just incase `options.backdrop = false`\n     * prevent multiple `if` statements\n     * so we don't have to check whether\n     * backdrop is enabled anytime we want to access it\n     * insert into DOM only:\n     * when `options.backdrop = true`\n     * `options.backdropClass` is undefined\n    */\n    this.backdrop = document.createElement('div')\n    this.backdrop.className = BACKDROP\n    css(this.backdrop, {\n      background: 'rgba(0,0,0,.4)',\n      height: '100%',\n      width: '100%',\n      display: 'none',\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      zIndex: -1\n    })\n\n    this.body = document.body\n    // init with null\n    this.Drawer = null\n    this.NavService = null\n    this.HashState = null\n\n    NavCard.defaultConfig = {\n      type: \"nav\",\n      transition: 500,\n      event: \"click\",\n      direction: \"left\",\n      backdrop: false,\n      backdropClass: null,\n      accessAttr: \"data-target\",\n      maxStartArea: 25,\n      threshold: 1/2,\n      unit: 'px'\n    }\n\n    NavCard.API = {\n      DEFAULT: 0,\n      DRAWER: 1,\n      HASH: 2,\n    }\n  }\n\n  setup(_elem, options) {\n    let element,\n      backdrop,\n      dataAccess,\n      opts,\n      HASH_NAV_MAX_WIDTH,\n      NAV_DRAW_MAX_WIDTH,\n      destinationId,\n      destination\n\n    opts = NavCard.defaultConfig\n\n    if (options && \"object\" === typeof options) {\n      for (let prop of Object.keys(options)) {\n        if (opts.hasOwnProperty(prop))\n          opts[prop] = options[prop]\n        else\n          continue\n      }\n    }\n\n    if (opts.backdrop) {\n      let backdrop_class = !!opts.backdropClass ? opts.backdropClass : false\n      // if `opts.backdrop` and no `backdrop_class` given\n      // append our custom backdrop\n      if (!backdrop_class) this.body.append(this.backdrop)\n\n      if (typeof backdrop_class === 'string') {\n        // check if backdrop_class is normal string or css class selector\n        backdrop =  /^\\./.test(backdrop_class) ? backdrop_class : `.${backdrop_class}`\n        this.backdrop = $(backdrop)\n      }\n\n    }\n\n    dataAccess = opts.accessAttr\n\n    /**\n     * Initialization element e.g <button ...</button>\n     */\n    element = $(_elem)\n    destinationId = getData(element, dataAccess)\n\n    // check if the data-* attribute value is a valid css selector\n    // if not prepend a '#' to it as id selector is default\n    let isCSS_Selector = /^(?:\\#|\\.|\\u005b[^\\u005c]\\u005c)/.test(destinationId),\n    isClass = /^\\./.test(destinationId)\n    destinationId = isCSS_Selector ? destinationId : `#${destinationId}`\n\n    destination = $(destinationId)\n\n    // we want a class too so in case we've got an id selector\n    // find the classname or assign a unique class\n    let default_class = `${DEF_CLASSNAME}-${unique(2<<7)}`\n    let classname = isClass ? destinationId : hasAttribute(destination, _CLASS) ? getAttribute(destination, _CLASS) : (setAttribute(destination, _CLASS, default_class), default_class)\n    let classlist = classname.split(/\\s+/)\n    classname = \".\" + ((classlist.length >= 2) ? classlist[0] + \".\" + classlist[1] : classname)\n    destination = isClass ? destination : $(classname)\n\n    // These attributes are used for the RWD(Responsive Web Design)\n    // features. The navigation drawer module is best suited for mobile\n    // touch devices. The program shouldn't listen for certain events on\n    // desktop devices as side-nav may be hidden. The attribute here are\n    // the screen sizes after which the nav is hidden.\n    HASH_NAV_MAX_WIDTH = getData(destination, MEDIA_HASH)\n    NAV_DRAW_MAX_WIDTH = getData(destination, MEDIA_DRAW)\n    HASH_NAV_MAX_WIDTH = /px$/.test(HASH_NAV_MAX_WIDTH) ? HASH_NAV_MAX_WIDTH : `${HASH_NAV_MAX_WIDTH}px`\n    NAV_DRAW_MAX_WIDTH = /px$/.test(NAV_DRAW_MAX_WIDTH) ? NAV_DRAW_MAX_WIDTH : `${NAV_DRAW_MAX_WIDTH}px`\n\n    let defaultOptions = {\n      ELEMENT: destination,\n      INIT_ELEM: element,\n      BACKDROP: new Backdrop(this.backdrop),\n      BODY: this.body,\n      TRANSITION: opts.transition,\n      DIRECTION: ['top', 'left', 'bottom', 'right'][opts.direction],\n      unit: options.unit\n    }\n    let drawerOptions = {\n      ...defaultOptions,\n      MAX_WIDTH: NAV_DRAW_MAX_WIDTH,\n      ...EVENTS,\n      DIRECTION: opts.direction,\n      maxStartArea: opts.maxStartArea,\n      threshold: opts.threshold\n    }\n    let hashOptions = {\n      ...defaultOptions,\n      MAX_WIDTH: HASH_NAV_MAX_WIDTH\n    }\n\n    this._drawerAPI(drawerOptions).activate()\n    this._hashAPI(hashOptions).activate()\n    this._defaultAPI(defaultOptions).activate()\n\n  }\n\n  _drawerAPI(options) {\n    this.Drawer = new NavDrawer(options)\n    return {\n      activate: () => this.Drawer.activate(),\n      deactivate: () => this.Drawer.deactivate()\n    }\n  }\n\n  _hashAPI(options) {\n    this.HashState = new HashState(options)\n    return {\n      activate: () => this.HashState.activate(),\n      deactivate: () => this.HashState.deactivate(),\n    }\n  }\n\n  _defaultAPI(options) {\n    this.NavService = new NavService(options)\n    return {\n      activate: () => this.NavService.activate(),\n      deactivate: () => this.NavService.deactivate(),\n    }\n  }\n\n  terminate(state) {\n    // this._*API(null).deactivate()\n    switch(state) {\n      case NavCard.API.DEFAULT:\n        if (this.NavService instanceof NavService)\n          this.NavService.deactivate()\n        break\n      case NavCard.API.DRAWER:\n        if (this.Drawer instanceof Drawer)\n          this.Drawer.deactivate()\n        break\n      case NavCard.API.HASH:\n        if (this.HashState instanceof HashState)\n          this.HashState.deactivate()\n        break\n      default:\n        this._drawerAPI(null).deactivate()\n        this._hashAPI(null).deactivate()\n        this._defaultAPI(null).deactivate()\n    }\n  }\n}\n\nexport default NavCard\n","import _CircularPath from './circular-path'\nimport _Drawer from './drawer'\nimport _Nav from './nav'\n\nexport default class Cardinal {\n  static CircularPath = _CircularPath\n  static Drawer = _Drawer\n  static Nav = _Nav\n}\n"],"names":["POINT_ANGLE","HALF","PI","Math","RAD","Circle","radius","diameter","areaOfSect","angle","area","lenOfSect","circumference","ZERO","DEG","RIGHT_ANGLE","Quadrant","FIRST","SECOND","THIRD","FOURTH","CircularPath","angles","_angles","map","value","_quad","_degToRad","deg","_radToDeg","rad","_findOppUseSOH","hyp","sin","_getLastTwoEqAngles","angleA","_getQuadrant","quad","forEach","index","array","_chordLength","radiusSq","a","cos","sqrt","paths","push","radAngle","angleCofRAT","angleBofRAT","MAX_THRESHOLD","MIN_ILLEGAL_THRESHOLD","NAV_BOX_SHADOW","dataCamelCase","data","camelCase","substring","delim","list","Array","split","reduce","acc","cur","charAt","toUpperCase","slice","unique","max","$","query","document","querySelectorAll","getAttribute","el","attr","hasAttribute","setAttribute","getData","prop","dataset","validateThreshold","tsh","css","property","style","STYLEMAP","window","getComputedStyle","Object","keys","ostyle","Bottom","options","element","ELEMENT","winSize","sizeOfWindow","screen","availHeight","height","offsetHeight","unit","maxArea","maxStartArea","context","start","e","changedTouches","pageY","clientY","startX","pageX","clientX","currentPosition","parseFloat","bottom","replace","dimension","displacement","Final","START","move","end","setContext","ctx","_getStyle","elt","pseudoElt","_loopWinSizeChangeEvent","setInterval","availWidth","Vector","x1","y1","x2","y2","coordsX","coordsY","Rectangle","abs","displacementX","displacementY","width","greaterWidth","DIRECTION","DIMENSION","DISPLACEMENT","EVENT_OBJ","THRESHOLD","BELOW_THRESHOLD","OPEN","CLOSE","UNIT","MAX_START_AREA","THRESHOLD_VALUE","FALSE_TOUCH_START_POINT","Left","SIZE","threshold","startY","resumeX","resumeY","endX","endY","scrollControlSet","scrollControl","timing","fn","Date","positionOnStart","response","call","resume","nextAction","virtualStart","vdimension","rect","isBoundX","scrollControlset","open","close","thresholdState","TIMING","getTime","signedOffsetSide","nonZero","zero","offsetSide","action","position","getResponse","state","trueForOpen","opposite","stateObj","Right","offsetWidth","right","wGTh","Top","top","MOVE","END","SnappedDrawer","_options","_element","_target","TARGET","events","_handlers","_direction","_callibration","_callbacks","_context","_setCalibration","activate","startfn","def","movefn","endfn","startHandler","deactivate","moveHandler","endHandler","_processThresholdState","_register","i","length","addEventListener","removeEventListener","on","event","_registerCallbacks","thState","vector","point","UP","LEFT","DOWN","RIGHT","RangeError","handlers","Drawer","Backdrop","backdrop","show","time","display","opacity","transition","hide","setTimeout","setOpacity","val","TRANSITION_STYLE","EFFECT","TRANS_END","NavService","nav","button","INIT_ELEM","BACKDROP","backdropElement","DEFAULT_EVENT","direction","trans_time","TRANSITION","alive","_width","handler","_close","_cleanShadow","test","floor","parseInt","_open","boxShadow","HashState","offSetWidth","hash","_getHash","ns","newURL","indexOfHash","lastIndexOf","KILO","MIN_TIME_TO_OVERRIDE_BELOWTHRESHOLD","MIN_POSITIVE_DISPLACEMENT","MIN_NEGATIVE_DISPLACEMENT","TRANS_TIMING","TRANS_TEMPLATE","HIDDEN","SCROLL","DIRECTIONS","NavDrawer","_body","BODY","_backdrop","checkDirection","directionString","o","elementSize","drawer","_startHandler","_moveHandler","_threshold","_belowThreshold","rectangle","overflow","curPos","isOpen","_hide","_show","isClosed","overallEventTime","MTTOB","MPD","MND","LOGIC","console","log","__overrideBelowThresh","oppositeDimension","axis","DEF_CLASSNAME","MEDIA_HASH","MEDIA_DRAW","_CLASS","EVENTS","touchend","touchmove","touchstart","NavCard","createElement","className","background","left","zIndex","body","defaultConfig","type","backdropClass","accessAttr","API","DEFAULT","DRAWER","HASH","setup","_elem","dataAccess","opts","HASH_NAV_MAX_WIDTH","NAV_DRAW_MAX_WIDTH","destinationId","destination","hasOwnProperty","backdrop_class","append","isCSS_Selector","isClass","default_class","classname","classlist","defaultOptions","drawerOptions","MAX_WIDTH","hashOptions","_drawerAPI","_hashAPI","_defaultAPI","terminate","Cardinal","_CircularPath","_Drawer","_Nav"],"mappings":"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"}